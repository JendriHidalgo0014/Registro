@page "/Prestamo/Create/{id:int}"
@using Microsoft.EntityFrameworkCore.Metadata.Internal
@rendermode InteractiveServer
@inject NavigationManager Navigation
@inject PrestamoService prestamoService

<h3>Crear Prestamo</h3>

<div class="container">
    <div class="card">
        <div class="card-body">
            <div class="form-group">
                <label for="DeudorId">Deudor ID</label>
                <input type="text" class="form-control" id="ClienteId" @bind="prestamos.DeudorId" />
            </div>
            <div class="form-group">
                <label for="Deudor">Deudor</label>
                <input type="text" class="form-control" id="nombre" @bind="prestamos.Deudor" />
            </div>
            <div class="form-group">
                <label for="Concepto">Concepto</label>
                <textarea class="form-control" id="Concepto" @bind="prestamos.Concepto"></textarea>
            </div>
            <div class="form-group">
                <label for="Monto">Monto</label>
                <input type="number" class="form-control" id="Monto" @bind="prestamos.Monto" />
            </div>
            <button class="btn btn-primary" @onclick="Guardar">Guardar</button>
            <button class="btn btn-secondary" @onclick="OnCancel">Cancelar</button>
        </div>
    </div>
</div>

@code {
    public Prestamo prestamos = new Prestamo();

    private async Task Guardar()
    {
        await prestamoService.Insertar(prestamos); 
        Navigation.NavigateTo("/Prestamo/Index");
    }

    private void OnCancel()
    {
        Navigation.NavigateTo("/Prestamo/Index");
    }

}
